<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <script src="webcam.js"></script>
    
    
    <title>Title</title>
</head>
<body>
<div id="my_camera" style="width:100px; height:100px;"></div>
<form>
    <div id="pre_take_buttons">
        <input type=button value="Take Snapshot" onClick="preview_snapshot()">
    </div>
    <div id="post_take_buttons" style="display:none">
        <input type=button value="&lt; Take Another" onClick="cancel_preview()">
        <input type=button value="Save Photo &gt;" onClick="save_photo()" style="font-weight:bold;">
    </div>
</form>
<div id="results"></div>

<script language="JavaScript">
    Webcam.set({
        // width: 320,
        // height: 240,
        dest_width: 640,
        dest_height: 480,
        image_format: 'jpeg',
        jpeg_quality: 90,
        flip_horiz: true,
    });
    Webcam.attach( '#my_camera' );

    function take_snapshot() {
        Webcam.snap( function(data_uri) {
            document.getElementById('my_result').innerHTML = '<img src="'+data_uri+'"/>';
        } );
    }

    function preview_snapshot() {
        // freeze camera so user can preview pic
        Webcam.freeze();

        // swap button sets
        document.getElementById('pre_take_buttons').style.display = 'none';
        document.getElementById('post_take_buttons').style.display = '';
    }

    function cancel_preview() {
        // cancel preview freeze and return to live camera feed
        Webcam.unfreeze();

        // swap buttons back
        document.getElementById('pre_take_buttons').style.display = '';
        document.getElementById('post_take_buttons').style.display = 'none';
    }

    function save_photo() {
        // actually snap photo (from preview freeze) and display it
        Webcam.snap( function(data_uri) {
            // display results in page
            document.getElementById('results').innerHTML =
                '<h2>Here is your image:</h2>' +
                '<img src="'+data_uri+'"/>';

            // swap buttons back
            document.getElementById('pre_take_buttons').style.display = '';
            document.getElementById('post_take_buttons').style.display = 'none';
        } );
    }

</script>

</body>
</html>